From 83e8586b20da0e1a40ae96bdd88cfd7963b1e5e8 Mon Sep 17 00:00:00 2001
From: Justin Hammond <justin@dynam.ac>
Date: Tue, 5 Mar 2024 17:56:41 +0800
Subject: [PATCH] add licheervnano patches

---
 include/cvi_board_memmap.h         |  37 +++++++++++
 include/cvipart.h                  |  13 ++++
 4 files changed, 153 insertions(+), 1 deletion(-)
 create mode 100644 include/cvi_board_memmap.h
 create mode 100644 include/cvipart.h

diff --git a/include/cvi_board_memmap.h b/include/cvi_board_memmap.h
new file mode 100644
index 0000000000..6f1e4068d6
--- /dev/null
+++ b/include/cvi_board_memmap.h
@@ -0,0 +1,37 @@
+#ifndef __BOARD_MMAP__ab4bdb87__
+#define __BOARD_MMAP__ab4bdb87__
+
+#define CONFIG_SYS_TEXT_BASE 0x80200000  /* offset 2.0MiB */
+#define CVIMMAP_ATF_SIZE 0x80000  /* 512.0KiB */
+#define CVIMMAP_BOOTLOGO_ADDR 0x8ab30000  /* offset 171.1875MiB */
+#define CVIMMAP_BOOTLOGO_SIZE 0x7d0000  /* 7.8125MiB */
+#define CVIMMAP_CONFIG_SYS_INIT_SP_ADDR 0x82800000  /* offset 40.0MiB */
+#define CVIMMAP_CVI_UPDATE_HEADER_ADDR 0x817ffc00  /* offset 23.9990234375MiB */
+#define CVIMMAP_CVI_UPDATE_HEADER_SIZE 0x400  /* 1.0KiB */
+#define CVIMMAP_DRAM_BASE 0x80000000  /* offset 0.0KiB */
+#define CVIMMAP_DRAM_SIZE 0x10000000  /* 256.0MiB */
+#define CVIMMAP_FRAMEBUFFER_ADDR 0x8ab30000  /* offset 171.1875MiB */
+#define CVIMMAP_FRAMEBUFFER_SIZE 0x7d0000  /* 7.8125MiB */
+#define CVIMMAP_FREERTOS_ADDR 0x8fe00000  /* offset 254.0MiB */
+#define CVIMMAP_FREERTOS_RESERVED_ION_SIZE 0x1600000  /* 22.0MiB */
+#define CVIMMAP_FREERTOS_SIZE 0x200000  /* 2.0MiB */
+#define CVIMMAP_FSBL_C906L_START_ADDR 0x8fe00000  /* offset 254.0MiB */
+#define CVIMMAP_FSBL_UNZIP_ADDR 0x81800000  /* offset 24.0MiB */
+#define CVIMMAP_FSBL_UNZIP_SIZE 0x1000000  /* 16.0MiB */
+#define CVIMMAP_H26X_BITSTREAM_ADDR 0x8b300000  /* offset 179.0MiB */
+#define CVIMMAP_H26X_BITSTREAM_SIZE 0x200000  /* 2.0MiB */
+#define CVIMMAP_H26X_ENC_BUFF_ADDR 0x8b500000  /* offset 181.0MiB */
+#define CVIMMAP_H26X_ENC_BUFF_SIZE 0x0  /* 0.0KiB */
+#define CVIMMAP_ION_ADDR 0x8b300000  /* offset 179.0MiB */
+#define CVIMMAP_ION_SIZE 0x4b00000  /* 75.0MiB */
+#define CVIMMAP_ISP_MEM_BASE_ADDR 0x8b500000  /* offset 181.0MiB */
+#define CVIMMAP_ISP_MEM_BASE_SIZE 0x1400000  /* 20.0MiB */
+#define CVIMMAP_KERNEL_MEMORY_ADDR 0x80000000  /* offset 0.0KiB */
+#define CVIMMAP_KERNEL_MEMORY_SIZE 0xfe00000  /* 254.0MiB */
+#define CVIMMAP_MONITOR_ADDR 0x80000000  /* offset 0.0KiB */
+#define CVIMMAP_OPENSBI_FDT_ADDR 0x80080000  /* offset 512.0KiB */
+#define CVIMMAP_OPENSBI_SIZE 0x80000  /* 512.0KiB */
+#define CVIMMAP_UIMAG_ADDR 0x81800000  /* offset 24.0MiB */
+#define CVIMMAP_UIMAG_SIZE 0x1000000  /* 16.0MiB */
+
+#endif /* __BOARD_MMAP__ab4bdb87__ */
diff --git a/include/cvipart.h b/include/cvipart.h
new file mode 100644
index 0000000000..067fce6bda
--- /dev/null
+++ b/include/cvipart.h
@@ -0,0 +1,13 @@
+/* this file should be generated by mkcvipart.py,please do not modify this file manually*/
+
+#ifndef CVIPART_H
+#define CVIPART_H
+#ifndef CONFIG_ENV_IS_NOWHERE
+#define CONFIG_ENV_IS_NOWHERE
+#endif
+#define CONFIG_ENV_SIZE 0x20000
+#define PART_LAYOUT ""
+#define ROOTFS_DEV "/dev/mmcblk0p2"
+#define PARTS_OFFSET ""
+#define SPL_BOOT_PART_OFFSET 0x0
+#endif
\ No newline at end of file
-- 
2.44.0

